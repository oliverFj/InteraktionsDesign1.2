<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Title -->
    <title>Sketch</title>

    <!-- Stylesheet -->
    <link rel="stylesheet" href="tailwind-output.css" />

    <!-- JavaScript libraries -->
    <script src="libraries/p5.min.js"></script>
    <script src="libraries/p5.sound.min.js"></script>
    <script src="libraries/d3.v7.js"></script>
</head>

<body class="bg-purple-200 font-sans"
    style="background-image: url('background.png'); background-position: top; background-size: inherit;"></body>

<!-- Main container -->
<div class="container mx-auto px-4 py-8">
    <!-- Title -->
    
    <!-- Logo -->
    <img src="logo.png" alt="DreamArt Logo" class="mx-auto mb-6">

    <!-- Main content section with grid layout -->
    <div class="bg-white bg-opacity-25 rounded-lg shadow-lg p-4 flex flex-wrap -mx-2">

        <!-- Input sliders section -->
        <div class="w-full md:w-3/5">
            <div class="bg-white bg-opacity-75 rounded-lg shadow-lg p-8">

                <form action="#" method="POST">

                    <!-- Size Slider -->
                    <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2">
                            What size do you associate with the dream?
                        </label>
                        <input class="w-full h-2 bg-purple-200 rounded-lg appearance-none cursor-pointer" type="range"
                            id="circleSizeSlider" min="10" max="100" value="10" step="1">
                    </div>

                    <!-- Randomness Slider -->
                    <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2">
                            How well do you remember your dream?
                        </label>
                        <input class="w-full h-2 bg-purple-200 rounded-lg appearance-none cursor-pointer" type="range"
                            id="randomnessSlider" min="0" max="500" value="250" step="1">
                    </div>

                    <!-- Speed Slider -->
                    <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2">
                            How positive or negative was your dream?
                        </label>
                        <input class="w-full h-2 bg-purple-200 rounded-lg appearance-none cursor-pointer" type="range"
                            id="speedSlider" min="0.000" max="0.01" value="0.005" step="0.0001">
                    </div>

                    <!-- Threshold Slider -->
                    <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2">
                            How weird was your dream?
                        </label>
                        <input class="w-full h-2 bg-purple-200 rounded-lg appearance-none cursor-pointer" type="range"
                            id="thresholdSlider" min="0" max="100" value="50" step="1">
                    </div>

                    <!-- Opacity Slider -->
                    <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2">
                            How vivid was your dream?
                        </label>
                        <input class="w-full h-2 bg-purple-200 rounded-lg appearance-none cursor-pointer" type="range"
                            id="opacitySlider" min="0" max="100" value="50" step="1">
                    </div>

                    <!-- Color Selector -->
                    <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2">
                            Select a color for your dream:
                        </label>
                        <input class="w-200 h-10 bg-purple-200 rounded-lg appearance-none cursor-pointer" type="color"
                            id="colorSelector" value="#619EC2">
                    </div>

                    <!-- Dream Name Input -->
                    <div class="mb-6">
                        <label class="block text-gray-700 text-sm font-bold mb-2">
                            Name your dream:
                        </label>
                        <input
                            class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                            type="text" placeholder="Dream Name">
                    </div>

                    <!-- Submit Button -->
                    <div class="flex justify-center">
                        <button
                            class="bg-purple-500 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"
                            type="submit">
                            Save Dream
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Sketch Section -->
        <div class="w-full md:w-2/5 pt-4 md:pl-4 md:pt-0 ">
            <div class="bg-white bg-opacity-75 rounded-lg shadow-lg py-2 px-2">
                <div id="sketch-holder" class="flex justify-center items-center" style="width: 100%; height: 400px;">
                </div>
                <!-- p5.js sketch will be loaded here -->
            </div>
        </div>
    </div>
</div>
<div class="container mx-auto px-4 py-8">
    <div class="bg-white bg-opacity-25 rounded-lg shadow-lg p-8 flex flex-wrap -mx-2">

        <!-- D3 Chart Container -->
        <div id="my_dataviz" class="mt-8" style="width: 100%; height: 400px;"></div>

        <div id="dataDisplay">Click on a circle to see its data here.</div>
    </div>

</div>

<!-- add nyan.png to the left after the chart container-->

<!-- add nyan.png to the left after the chart container -->
<img src="nyan.png" alt="Nyan Cat" class="float-left">



<!-- JavaScript file -->
<script src="sketch.js"></script>
<script src="Dreamplot.js"></script>


<script>
    // Create an array of dream data that can be used to set the sliders and color

    /*    
    { name: "Dream 1", x: 10, y: 20, color: "#BF3F61", size: 30 },
    { name: "Dream 2", x: 40, y: 60, color: "#639AA6", size: 20 },
    { name: "Dream 3", x: 80, y: 10, color: "#547346", size: 40 },
    { name: "Dream 4", x: 90, y: 80, color: "#F2B138", size: 20 },
    { name: "Dream 5", x: 30, y: 40, color: "#BF3636", size: 30 },
    */


    var yourArray = [
        {
            "name": "Dream 1",
            "size": 20,
            "randomness": 100,
            "speed": 0.005,
            "threshold": 20,
            "opacity": 100,
            "color": "#BF3F61" 
        },
        {
            "name": "Dream 2",
            "size": 20,
            "randomness": 200,
            "speed": 0.001,
            "threshold": 10,
            "opacity": 50,
            "color": "#639AA6" 
        },
        {
            "name": "Dream 3",
            "size": 40,
            "randomness": 300,
            "speed": 0.01,
            "threshold": 50,
            "opacity": 10,
            "color": "#547346" 
        },
        {
            "name": "Dream 4",
            "size": 20,
            "randomness": 400,
            "speed": 0.005,
            "threshold": 80,
            "opacity": 80,
            "color": "#F2B138" 
        },
        {
            "name": "Dream 5",
            "size": 30,
            "randomness": 500,
            "speed": 0.005,
            "threshold": 90,
            "opacity": 30,
            "color": "#BF3636" 
        }
    ];

    function processArrayElementByName(elementName) {
        var element = yourArray.find(element => element.name === elementName);
        if (element) {
            setSlidersAndColor(element)
            console.log(element); // Or update some DOM elements, etc.
        } else {
            console.log("Element not found");
        }
    }

    //create a function that will set the sliders and color based on the dream data
    function setSlidersAndColor(dream) {
        let sliders = {
            "circleSizeSlider": dream.size,
            "randomnessSlider": dream.randomness,
            "speedSlider": dream.speed,
            "thresholdSlider": dream.threshold,
            "opacitySlider": dream.opacity
        };

        for (let id in sliders) {
            let slider = document.getElementById(id);
            slider.value = sliders[id];
            slider.dispatchEvent(new Event('input'));  // This can help in triggering any attached event listeners.
        }

        let colorSelector = document.getElementById("colorSelector");
        colorSelector.value = dream.color;
        colorSelector.dispatchEvent(new Event('input'));  // Similarly trigger change for color.
    }
</script>



</body>

</html>